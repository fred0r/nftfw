.\" Automatically generated by Pandoc 2.2.1
.\"
.TH "NFTFWEDIT" "1" "" "" "Nftfw documentation"
.hy
.SH NAME
.PP
\f[B]nftfwedit\f[] \[em] command line to add, delete and blacklist IPs
and IP information print
.SH SYNOPSIS
.PP
\f[B]nftfwedit\f[] [\f[B]\-h\f[]] [** \-d | \-a | \-b | \-g \f[B]]
[\f[]\-p** \f[I]PORT\f[]] [\f[B]\-n\f[] \f[I]PATTERN\f[]] [** \-q \f[B]]
[\f[] \-v \f[B]] [\f[] ipaddress [ ipaddress \&... ]**]
.SH DESCRIPTION
.PP
\f[I]nftfwedit\f[] is a command line tool to add or remove IP addresses
from the \f[I]nftfw\f[] blacklist database, and also optionally from the
\f[I]blacklist.d\f[] directory affecting the running firewall.
Options on the command line are followed by one of more IP addresses.
.PP
If one of the \f[B]delete\f[] (\f[B]\-d\f[]) , \f[B]add\f[]
(\f[B]\-a\f[]) or \f[B]blacklist\f[] (\f[B]\-b\f[]) options is not
supplied, \f[I]nftfwedit\f[] prints information about its ip address
arguments.
Information from the blacklist database is printed if available, along
with the country of origin (if \f[I]geoip2\f[] is installed) and output
from any DNS blocklists, if specified in \f[I]config.ini\f[].
.PP
These are the available options to the program:
.TP
.B \f[B]\-h\f[], \f[B]\-\-help\f[]
Prints brief usage information.
.RS
.RE
.TP
.B \f[B]\-d\f[], \f[B]\-\-delete\f[]
The nominated IP addresses are deleted from the blacklist database, and
if present, the file is removed from the \f[I]blacklist.d\f[] directory.
Requires root access.
.RS
.RE
.TP
.B \f[B]\-a\f[], \f[B]\-\-add\f[]
The nominated IP addresses are added to the blacklist database.
The port (\f[B]\-p\f[]) and pattern (\f[B]\-n\f[]) options must be
supplied to create a valid database entry.
Requires root access.
.RS
.RE
.TP
.B \f[B]\-b\f[], \f[B]\-\-blacklist\f[]
The nominated IP addresses are added to the \f[I]blacklist.d\f[]
directory.
If an address to be added is present in the blacklist database, then the
installation uses that information to create the file.
When the database doesn't contain the address, it's added to the
database, and in this case the port and pattern options must be
supplied.
Requires root access.
.RS
.RE
.TP
.B \f[B]\-g\f[], \f[B]\-\-gethostname\f[]
Include hostname information when printing ip address information.
This is optional because name lookups can be slow for ip addresses with
known hostname.
.RS
.RE
.TP
.B \f[B]\-p\f[],\f[B]\-\-port\f[] PORT
Supply the ports used when blocking the IP address.
The PORT value can be \f[I]all\f[], a single numeric port number or a
comma separated list of ports.
.RS
.RE
.TP
.B \f[B]\-n\f[],\f[B]\-\-pattern\f[] PATTERN
Supply the pattern name stored in the database and used to indicate the
source of the blacklist entry when listed by \f[I]nftfwls\f[].
.RS
.RE
Suppress printing of errors and information messages to the terminal,
syslog output remains active.
Terminal output is suppressed when the output is not directed to a
terminal
.RS
.RE
.TP
.B \f[B]\-q\f[], \f[B]\-\-quiet\f[]
Suppress printing of errors and information messages to the terminal,
syslog output remains active.
Terminal output is suppressed when the output is not directed to a
terminal
.RS
.RE
.TP
.B \f[B]\-v\f[], \f[B]\-\-verbose\f[]
Change the default logging settings to INFO to show all errors and
information messages.
.RS
.RE
.SH FILES
.PP
Files can be located in \f[I]/\f[] or \f[I]/usr/local\f[].
.TP
.B \f[I]/usr/local/etc/nftfw\f[]
Location of control files and directories
.RS
.RE
.TP
.B \f[I]/usr/local/etc/nftfw/nftfw_init.nft\f[]
\f[B]nftables\f[] basic framework
.RS
.RE
.TP
.B \f[I]/usr/local/etc/nftfw/config.ini\f[]
ini file with basic settings for \f[I]nftfw\f[], overriding built\-in
values
.RS
.RE
.TP
.B \f[I]/usr/local/var/lib/nftfw/\f[]
Location of \f[I]build.d\f[], \f[I]test.d\f[], \f[I]install.d\f[], lock
files and the sqlite3 databases storing file positions and blacklist
information
.RS
.RE
.SH BUGS
.PP
See GitHub Issues: <https://github.com/pcollinson/nftfw/issues>
.SH AUTHOR
.PP
Peter Collinson (huge credit to the ideas from Patrick Cherry's work for
the firewall for the Symbiosis hosting system).
.SH SEE ALSO
.PP
\f[B]nft(1)\f[], \f[B]nftfw(1)\f[], \f[B]nftfwls(1)\f[],
\f[B]nftfwadm(1)\f[], \f[B]nftfw\-config(5)\f[],
\f[B]nftfw\-files(5)\f[]
